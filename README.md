# AWS Account Setup & Prototype Deployment Documentation

This document outlines the detailed process used to create and configure an AWS account for deploying a professional-grade dynamic prototype web application, suitable for technical showcases to potential investors.

## Table of Contents

- [1. Project Context](#1-project-context)
- [2. AWS Account Creation](#2-aws-account-creation)
- [3. IAM User and Group Setup](#3-iam-user-and-group-setup)
- [4. Setting Up Billing Alerts and Budgets](#4-setting-up-billing-alerts-and-budgets)
- [5. Provisioning an AWS EC2 Server](#5-provisioning-an-aws-ec2-server)
- [Additional: Testing the Apache2 Web Server (Optional)](#additional-testing-the-apache2-web-server-optional)
- [Upload a Custom HTML File to Apache](#upload-a-custom-html-file-to-apache)
- [Screenshots](#screenshots)


---

## 1. Project Context

Your startup team needs to create a dynamic prototype of a web application to showcase your technical skills to investors. Unlike a basic landing page, you’ll enhance it with optional interactive features while ensuring it’s professionally deployed.

---

## 2. AWS Account Creation

- **Date Created:** 12/06/2025
- **Registered Email:** holynation667@gmail.com
- **AWS Account Alias:** Holynation
- **MFA Enabled on Root Account:** Yes
- **Public IP Adddress:** 34.224.221.167
- **Github Link:** https://github.com/holynation/portfolio.git
- **Deployment Script:** ![Deployment Script](deploy.sh)

### MFA Setup for Root User

To enhance account security, Multi-Factor Authentication (MFA) was enabled on the root user. This was done via the following steps:

1. Logged into the AWS Management Console.
2. Searched for **IAM** using the search bar at the top of the screen.
3. Navigated to the **IAM dashboard** and located the option to enable MFA for the root user.
4. Clicked the prompt to set up MFA, entered a device name, and selected **Google Authenticator** as the MFA type. *(Note: The app was installed from the Play Store beforehand.)*
5. Scanned the provided QR code using the Google Authenticator app to link it.
6. Entered two consecutive time-based codes (30 seconds apart) from the app.
7. Successfully enabled MFA for the root user.

This ensures the root account is secured with an extra layer of authentication beyond the password.

[🔝 Back to Top](#table-of-contents)

## 3. IAM User and Group Setup

### Creating IAM User – `itadmin`

1. While still in the **IAM Dashboard**, clicked on **Users** from the left sidebar to view all existing users.
2. Clicked on **Create user** at the top right corner.
3. Provided a username: `itadmin`.
4. Enabled access to the AWS Management Console by checking: 
   **"Provide user access to the AWS Management Console – optional"**.
5. Selected **"I want to create an IAM user"** as the console access option.
6. For the password settings, left the default **Autogenerated password** option.
7. Ensured the box labeled **"Users must create a new password at next sign-in – Recommended"** was checked.
8. Clicked **Next** to proceed to permissions.

### Assigning Permissions

9. Chose the **Attach policies directly** option to assign permissions manually.
10. From the list of AWS managed policies, selected only **AdministratorAccess**.
11. Proceeded to the **Review** step, confirmed the details, and clicked **Create user**.

After the user was created:
- A success screen appeared showing login instructions for the new IAM user.
- Downloaded the `.csv` file containing the login credentials (username, password, and console login URL).

### Enabling MFA for IAM User

12. Returned to the **Users** list and selected the `itadmin` user.
13. Navigated to the **Security credentials** tab.
14. Under **Multi-factor authentication (MFA)**, initiated the MFA setup for this IAM user.
15. Followed the same procedure used for the root user:
    - Chose **Google Authenticator**
    - Scanned the QR code in the app
    - Entered two time-based codes from the app to complete setup

> Additional Note: The IAM interface provides options to explore Groups, Tags, and Permissions. These can be used to refine access, organize users, and manage permissions according to best practices like **least privilege**.

[🔝 Back to Top](#📚-table-of-contents)


## 4. Setting Up Billing Alerts and Budgets

To prevent unexpected charges and stay within your AWS budget, it's essential to set up billing alerts using **CloudWatch**. These alerts notify you via email when you exceed a specified spending threshold or start using a service that may incur unexpected costs.

#### Steps to Set Up Billing Alerts:

1. **Access Billing Dashboard:**
   - Click on your account dropdown (top-right corner of the AWS console).
   - Select **Billing and Cost Management**.
   - This brings up your billing dashboard showing historical billing data.

2. **Understand Current Billing:**
   - On the left sidebar, select **Bills**.
   - This section shows you which services are incurring charges, helping identify services to clean up.

3. **Configure Billing Preferences:**
   - On the same left sidebar, click **Billing Preferences**.
   - Enable the following:
     - **Receive PDF invoices by email**
     - **Receive AWS Free Tier Usage Alerts** (e.g., at 85% usage)
     - **Receive CloudWatch Billing Alerts**

4. **Navigate to CloudWatch and Confirm Region:**
   - Go back to the main AWS console dashboard.
   - Use the **search bar** to search for and open **CloudWatch**.
   - Once inside the CloudWatch dashboard, check the **top-right corner** to confirm the region is set to **N. Virginia (us-east-1)** — this is the required region for billing metrics to appear.
   - If it’s not selected, switch to N. Virginia before proceeding.

5. **Create a Billing Alarm in CloudWatch:**
   - In CloudWatch, from the left sidebar, go to **Alarms > All Alarms**.
   - Click **Create Alarm**.

6. **Select Billing Metric:**
   - Under metrics, choose **Billing**.
   - If not visible, ensure you've enabled billing alerts in your preferences and are in the N. Virginia region.
   - Choose **Total Estimated Charge**.
   - Set the currency to **USD** and click **Create Metric**.

7. **Set Threshold Conditions:**
   - Define a spending limit (e.g., **5 USD**).
   - This sets the alarm to trigger when the estimated charges exceed $5.

8. **Configure Notifications:**
   - Under **Notification Actions**, stick with the default "In alarm" state.
   - Choose or create an **SNS Topic**:
     - The topic name can be **any name of your choice** (e.g., `AltSchool_MonitoringTeam`).
     - Add your **email address** to receive alerts.

9. **Confirm Email Subscription and Finalize Alarm:**
   - Check your email inbox for a **confirmation email from AWS SNS**.
   - Click the confirmation link to **confirm your subscription**.
   - After confirming, go back to the **CloudWatch alarm page** and **refresh** it.
   - Ensure the **alarm state is "OK"** and **"Actions enabled"** is displayed.

   ✅ This confirms that your billing alarm is now active and properly configured.
   

[🔝 Back to Top](#📚-table-of-contents)

## 5. Provisioning an AWS EC2 Server

To provision an EC2 server on AWS, follow these steps:

#### Step 1: Log in Using the IAM User
- Sign in to the AWS Console using the IAM user created earlier.
- Use the downloaded `.csv` file for login credentials, or retrieve credentials by checking **IAM > Users > Security Credentials**.

#### Step 2: Access EC2 Service
- In the AWS Console search bar, type `EC2` and select **EC2 (Elastic Compute Cloud)**.

#### Step 3: Create a Key Pair
- In the left sidebar, click **Key Pairs** under **Network & Security**.
- Click **Create Key Pair**.
- Use a naming convention like: 
  `projectname-environment-regionname`
  _Example_: `altschool-prod-us-east-1`
- Choose **RSA** as the key pair type.
- This will download a `.pem` file to your default Downloads folder.

#### Step 4: Create a Security Group
- In the EC2 sidebar, click **Security Groups** under **Network & Security**.
- Click **Create Security Group**.
- Use a naming convention like:
  `projectname-servicename-environment-sg`
  _Example_: `altschool-web-prod-sg`
- Add **Inbound Rule**:
  - Type: `SSH`
  - Source: Your current IP address _(static or dynamic)_.
  - **Why?** Only your machine should be able to SSH into the server.
- Leave **Outbound Rule** as default:
  - Type: `All traffic`
  - Destination: `Anywhere`
  _(This allows server access to the internet)_

#### Step 5: Launch an EC2 Instance
- Click **Instances** in the EC2 sidebar, then **Launch Instance**.
- Configure the following:
  - **Name**: e.g. `altschool-web-server`
  - **Amazon Machine Image (AMI)**: Choose **Ubuntu (Free tier eligible)**.
  - **Instance Type**: Use default (`t2.micro` for free tier).
  - **Key Pair**: Select the one created earlier.
  - **Network Settings**:
    - Under **Firewall (Security Groups)**, choose the existing security group created earlier.
- Leave other settings as default.
- Click **Launch Instance**.

#### Step 6: Access the EC2 Instance via SSH
- Click on the created instance name to view instance details.
- Copy the **Public IPv4 address**.
- Use the following SSH command:
  ```bash
  ssh -i path/to/downloaded-key.pem ubuntu@<public-ip-address>

- Example:

  ```bash
  ssh -i Downloads/altschool.pem ubuntu@34.224.xxx.xxx

Accept the prompt to continue. You’re now inside your EC2 instance.

#### Step 7: Install Apache Web Server

Run the following commands:

1. Update package lists and install Apache:
   ```bash
   sudo apt update && sudo apt install apache2 -y
   ```

2. Verify Apache is running:
   ```bash
   sudo systemctl status apache2
   ```
   - You should see `active (running)` in the output
   - If not running, start it with:
     ```bash
     sudo systemctl start apache2
     ```

#### Step 8: Deploy a Static HTML Page

1. Create or upload your HTML file to the server

2. Copy the file to the web directory:
   ```bash
   sudo cp ~/index.html /var/www/html/
   ```
   - Replace `index.html` with your actual filename

3. Set proper permissions:
   ```bash
   sudo chown www-data:www-data /var/www/html/index.html
   sudo chmod 644 /var/www/html/index.html
   ```

4. Access your webpage:
   - Open a browser and visit:
     ```
     http://<your-ec2-public-ip>
     ```
   - You should see your HTML content displayed
   - Note: You might not necessarily see your content based on the security group rules that was set on the previously on the server. So read the section below [**Testing the Apache2 Web Server**], to show you how to update your security groups rules to allow public access to your public IP address.

5. (Optional) Test changes without caching:
   ```bash
   curl http://localhost
   ```

Got it! Here's your updated **Section 4: Testing the Apache2 Web Server** in proper **Markdown format** with your latest instructions included:


[🔝 Back to Top](#📚-table-of-contents)


## Additional: Testing the Apache2 Web Server (Optional)

After installing and starting the Apache2 service, it's important to verify whether it is serving content correctly.

### ✅ Confirm Apache2 Status

Check the status of the Apache2 service to ensure it's running:

```bash
sudo systemctl status apache2
```

Look for something like `active (running)` in green text.

----------

### 🌍 Get Your Public IP

To access your server from a browser, you need the public IP address of your EC2 instance. Run the command:

```bash
curl http://checkip.amazonaws.com
```

Alternatively, get it from your EC2 instance **Description** tab in the AWS Console (look for **IPv4 Public IP**).

----------

### 🚫 Page Not Loading? Here's Why

If you try accessing your server's IP in the browser right now (e.g., `http://<your-public-ip>`), **you'll notice that nothing loads**.

**That's because of the Security Groups we set up earlier.**

----------

### 🔐 Update Your Security Group to Allow HTTP

Go back to your EC2 instance’s **Security Groups**:

1.  Click on the Security Group attached to your EC2 instance.
    
2.  Select the **Inbound rules** tab.
    
3.  Click **Edit inbound rules**.
    
4.  Add the following rules:

1. In EC2 Dashboard:
   - Select your instance
   - Click the Security Group link
2. Under **Inbound rules** tab:
   - Click **Edit inbound rules**
3. Add these rules:

| Type  | Protocol | Port Range | Source    | Description       |
|-------|----------|------------|-----------|-------------------|
| HTTP  | TCP      | 80         | 0.0.0.0/0 | Allow web traffic |
| HTTPS | TCP      | 443        | 0.0.0.0/0 | Optional SSL      |

4. Click **Save rules**

----------

### ✅ Test Again in Browser

Now go back to your browser and refresh `http://<your-public-ip>`.

You should see either:

-   The **default Apache2 page**, or
    
-   If you uploaded an HTML file to `/var/www/html/`, you’ll see that file instead.
    
----------

[🔝 Back to Top](#📚-table-of-contents)

## Upload a Custom HTML File to Apache

Here's how to upload your own HTML file to the Apache2 web root:

### Step 1: Create or upload your HTML file

**Option 1:** Create directly on the server:
```bash
echo "<h1>Hello from My Apache Server!</h1>" | sudo tee /var/www/html/index.html
```

**Option 2:** Upload from your local computer:
```bash
scp -i /path/to/your-key.pem /path/to/local/index.html ubuntu@<your-public-ip>:/tmp
```

Then move it to the web root:
```bash
sudo mv /tmp/index.html /var/www/html/index.html
```

### Step 2: Set permissions (if necessary)
```bash
sudo chown -R your-username:www-data /var/www/html
sudo chmod -R 775 /var/www/html
```

### To know your username, run this on the server
```bash
whoami
```

### ✅ Final Test
Visit `http://<your-public-ip>` in your browser - you should now see your custom page rendered.

**Hurray!** You're now serving your own HTML content from an EC2 instance using Apache2!

[🔝 Back to Top](#📚-table-of-contents)


## Screenshots
![Landing Page Screenshot](images/1.png)

<img src="images/2.png" alt="Hero Page" width="800">
<img src="images/3.png" alt="Hero Page" width="800">
<img src="images/4.png" alt="Hero Page" width="800">
<img src="images/5.png" alt="Hero Page" width="800">
<img src="images/6.png" alt="Hero Page" width="800">


---

© 2025 Oluwaseun Alatise. All rights reserved.
Crafted with ❤️ for learning and deployment on AWS.

[🔝 Back to Top](#📚-table-of-contents)



